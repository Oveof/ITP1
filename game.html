<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>SSP</title>
  <link rel="stylesheet" href="game.css">
</head>

<body>
  <div id="wrapper">
    <header>
      <h1>JÃ¦ren Stein-Saks-Papir klubb</h1>
    </header>
    <nav>
      <ul>
        <li><a href="index.html">Heim</a></li>
        <li><a href="game.html">Spel</a></li>
      </ul>
    </nav>
    <div id="options">
      <form>
        <select id="gamemode">
          <option selected disabled>Velg kor mange spelare</option>
          <option value="p1">P1 VS CPU</option>
          <option value="p2">P1 VS P2</option>
        </select>
        <button type="button" id="start" disabled>Start</button>
      </form>
    </div>
    <div id="imgp1">
      <img src="" alt="">
    </div>
    <div id="imgp2">
      <img src="" alt="">
    </div>
    <div id="countdown">
      <p id="countdownNumber"></p>
      <img src="" alt="" id="countdownImage">
    </div>
    <div id="score1"></div>
    <div id="score2"></div>
    <footer>Laget av Ove Oftedal</footer>
  </div>

</body>

</html>
<script src="vsCPU.js" charset="utf-8"></script>
<script src="effective.js" charset="utf-8"></script>
<script type="text/javascript">
  var gamemode = document.getElementById('gamemode')
  var btnStart = document.getElementById('start')
  var countdown = document.getElementById('countdownNumber')
  var imgp1 = document.getElementById('imgp1')
  var imgp2 = document.getElementById('imgp2')
  var countdownImage = document.getElementById('countdownImage')
  //change button to enabled when choosing a gamemode
  gamemode.onchange = function() {
    if (gamemode.value == "p1" || gamemode.value == "p2") {
      btnStart.disabled = false;
    } else {
      btnStart.disabled = true;
    }
  }

  function countDown() {
    countdown.innerHTML = i
    switch (i) {
      case 3:
        countdownImage.src = "assets/rock.svg";
        break;
      case 2:
        countdownImage.src = "assets/scissors.svg";
        break;
      case 1:
        countdownImage.src = "assets/paper.svg";
        break;
      default:

    }
    i--
  }
  btnStart.onclick = function() {
    selected1 = "";

    document.getElementById('')
    window.setTimeout(function() {game()}, 4000);
    i = 3

    window.setTimeout(countDown, 1000);

    window.setTimeout(countDown, 2000);

    window.setTimeout(countDown, 3000);

  }


  function game() {
    countdown.innerHTML = "GO";
    if (gamemode.value == "p1") {
      var p2 = "cpu"
      selected2 = cpu();
    } else {
      var p2 = "p2"
      selected2 = "";
    }
    if (window[selected1].effective == selected2) {
      alert("P1 WINS! with " + selected1 + " : " + selected2)
    }
    else if (window[selected2].effective == selected1) {
      alert("P2 WINS! with " + selected2 + " : " + selected1)
    }
    else {
      alert("It's a tie!")
    }

  }

</script>
